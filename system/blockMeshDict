/*--------------------------------*- C++ -*----------------------------------*\
| =========                 |                                                 |
| \\      /  F ield         | OpenFOAM: The Open Source CFD Toolbox           |
|  \\    /   O peration     | Version:  12                                    |
|   \\  /    A nd           | Web:      www.OpenFOAM.org                      |
|    \\/     M anipulation  |                                                 |
\*---------------------------------------------------------------------------*/
FoamFile
{
    version     2.0;
    format      ascii;
    class       dictionary;
    object      blockMeshDict;
    location    "system";
}

convertToMeters 1;

vertices
(
    // Main channel before structure
    (0     0     0)      // 0
    (2.2   0     0)      // 1
    (2.2   0.5   0)      // 2
    (0     0.5   0)      // 3
    (0     0     0.409)  // 4
    (2.2   0     0.409)  // 5
    (2.2   0.5   0.409)  // 6
    (0     0.5   0.409)  // 7

    // Main channel after structure
    (2.8   0     0)      // 8
    (5     0     0)      // 9
    (5     0.5   0)      // 10
    (2.8   0.5   0)      // 11
    (2.8   0     0.409)  // 12
    (5     0     0.409)  // 13
    (5     0.5   0.409)  // 14
    (2.8   0.5   0.409)  // 15

    // First ballast hexagon
    (2.25  0.05  0)      // 16
    (2.35  0.05  0)      // 17
    (2.4   0.15  0)      // 18
    (2.35  0.25  0)      // 19
    (2.25  0.25  0)      // 20
    (2.2   0.15  0)      // 21
    (2.25  0.05  0.409)  // 22
    (2.35  0.05  0.409)  // 23
    (2.4   0.15  0.409)  // 24
    (2.35  0.25  0.409)  // 25
    (2.25  0.25  0.409)  // 26
    (2.2   0.15  0.409)  // 27

    // Second ballast hexagon
    (2.65  0.05  0)      // 28
    (2.75  0.05  0)      // 29
    (2.8   0.15  0)      // 30
    (2.75  0.25  0)      // 31
    (2.65  0.25  0)      // 32
    (2.6   0.15  0)      // 33
    (2.65  0.05  0.409)  // 34
    (2.75  0.05  0.409)  // 35
    (2.8   0.15  0.409)  // 36
    (2.75  0.25  0.409)  // 37
    (2.65  0.25  0.409)  // 38
    (2.6   0.15  0.409)  // 39

    // Sleeper (rectangular)
    (2.2   0.25  0)      // 40
    (2.8   0.25  0)      // 41
    (2.8   0.3   0)      // 42
    (2.2   0.3   0)      // 43
    (2.2   0.25  0.409)  // 44
    (2.8   0.25  0.409)  // 45
    (2.8   0.3   0.409)  // 46
    (2.2   0.3   0.409)  // 47

    // Rail (rectangular)
    (2.4   0.3   0)      // 48
    (2.6   0.3   0)      // 49
    (2.6   0.35  0)      // 50
    (2.4   0.35  0)      // 51
    (2.4   0.3   0.409)  // 52
    (2.6   0.3   0.409)  // 53
    (2.6   0.35  0.409)  // 54
    (2.4   0.35  0.409)  // 55
);

blocks
(
    // Main channel sections
    hex (0 1 2 3 4 5 6 7)         (44 20 1) simpleGrading (1 1 1)
    hex (8 9 10 11 12 13 14 15)   (44 20 1) simpleGrading (1 1 1)

    // First ballast hexagon (approximated with 6 blocks)
    hex (16 17 18 21 22 23 24 27) (4 4 1) simpleGrading (1 1 1)
    hex (17 18 19 20 23 24 25 26) (4 4 1) simpleGrading (1 1 1)
    
    // Second ballast hexagon (approximated with 6 blocks)
    hex (28 29 30 33 34 35 36 39) (4 4 1) simpleGrading (1 1 1)
    hex (29 30 31 32 35 36 37 38) (4 4 1) simpleGrading (1 1 1)
    
    // Sleeper
    hex (40 41 42 43 44 45 46 47) (12 2 1) simpleGrading (1 1 1)
    
    // Rail
    hex (48 49 50 51 52 53 54 55) (4 2 1) simpleGrading (1 1 1)
);

edges
(
);

patches
(
    patch inlet
    (
        (0 4 7 3)
    )

    patch outlet
    (
        (9 13 14 10)
    )

    patch atmosphere
    (
        (3 7 6 2)
        (11 15 14 10)
    )

    wall walls
    (
        // Bottom walls
        (0 1 5 4)
        (8 9 13 12)
        
        // Front and back walls
        (0 3 2 1)
        (4 5 6 7)
        (8 11 10 9)
        (12 13 14 15)
    )

    wall ballast
    (
        // First hexagon faces
        (16 17 23 22)
        (17 18 24 23)
        (18 19 25 24)
        (19 20 26 25)
        (20 21 27 26)
        (21 16 22 27)
        
        // Second hexagon faces
        (28 29 35 34)
        (29 30 36 35)
        (30 31 37 36)
        (31 32 38 37)
        (32 33 39 38)
        (33 28 34 39)
    )

    wall sleeper
    (
        (40 41 45 44)
        (41 42 46 45)
        (42 43 47 46)
        (43 40 44 47)
    )

    wall rail
    (
        (48 49 53 52)
        (49 50 54 53)
        (50 51 55 54)
        (51 48 52 55)
    )
);

mergePatchPairs
(
);